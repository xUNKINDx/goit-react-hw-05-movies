{"version":3,"file":"static/js/115.a94bc9ed.chunk.js","mappings":"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","sources":["components/Movies/Movies.jsx","movieDbAPI/movieDbAPI.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useNavigate } from 'react-router-dom';\nimport { searchMovies } from 'movieDbAPI/movieDbAPI';\nimport Loader from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [searchParams] = useSearchParams('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [filter, setFilter] = useState('');\n  const query = searchParams.get('query');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (query && query.length > 0) {\n      const getMovies = async () => {\n        setIsLoading(true);\n\n        try {\n          const response = await searchMovies(query, 1);\n          return response;\n        } catch (error) {\n          console.error(error);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n\n      getMovies().then(result => setMovies(result.results));\n    }\n  }, [query]);\n\n  const onFilterChange = event => {\n    setFilter(event.target.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    navigate(`/movies?query=${filter}`);\n  };\n\n  return (\n    <>\n      <div>\n        <form className=\"form-block\" onSubmit={onSubmit}>\n          <input\n            className=\"form-block__input\"\n            type=\"text\"\n            name=\"query\"\n            autoComplete=\"off\"\n            value={filter}\n            onChange={onFilterChange}\n          />\n          <button className=\"form-block__submit\" type=\"submit\">\n            Search\n          </button>\n        </form>\n      </div>\n      <div className=\"movies-list\">\n        <ul>\n          {isLoading && <Loader />}\n          {!isLoading &&\n            movies &&\n            movies.map(movie => (\n              <li className=\"movie\" key={movie.id}>\n                <Link\n                  to={`${movie.id}`}\n                  state={{ from: `/movies?query=${query}` }}\n                >\n                  {movie.title}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = 'bc23d88e8c379b88dcc9e69c75bc8f78';\nconst URI = 'https://api.themoviedb.org/3';\n// const MOVIE_GENRES = 'movie-genres';\n\nasync function fetchTrandingMovies(page) {\n  const url = `${URI}/trending/movie/day?api_key=${API_KEY}&page=${page}`;\n\n  return await getRequest(url);\n}\n\nasync function searchMovies(searchText, page) {\n  const query = encodeURIComponent(searchText);\n\n  const url = `${URI}/search/movie?api_key=${API_KEY}&page=${page}&query=${query}`;\n\n  return await getRequest(url);\n}\n\nasync function getMovieById(movieId) {\n  const url = `${URI}/movie/${movieId}?api_key=${API_KEY}`;\n\n  return await getRequest(url);\n}\n\n// async function getGenres() {\n//   const url = `${URI}/genre/movie/list?api_key=${API_KEY}`;\n\n//   let genres = localStorage.getItem(MOVIE_GENRES);\n//   if (genres) {\n//     return JSON.parse(genres);\n//   } else {\n//     genres = await getRequest(url);\n//     localStorage.setItem(MOVIE_GENRES, JSON.stringify(genres.genres));\n//     return genres.genres;\n//   }\n// }\n\nasync function getCast(movieId) {\n  const url = `${URI}/movie/${movieId}/credits?api_key=${API_KEY}`;\n\n  return await getRequest(url);\n}\n\nasync function getReviews(movieId) {\n  const url = `${URI}/movie/${movieId}/reviews?api_key=${API_KEY}`;\n\n  return await getRequest(url);\n}\n\n// async function getMovieVideo(movieId) {\n//   const url = `${URI}/movie/${movieId}/videos?api_key=${API_KEY}`;\n\n//   return await getRequest(url);\n// }\n\nasync function getRequest(url) {\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport {\n  fetchTrandingMovies,\n  searchMovies,\n  getMovieById,\n  // getGenres,\n  // getMovieVideo,\n  getCast,\n  getReviews,\n};\n"],"names":["useSearchParams","searchParams","useState","isLoading","setIsLoading","movies","setMovies","filter","setFilter","query","get","navigate","useNavigate","useEffect","length","getMovies","searchMovies","response","console","error","then","result","results","className","onSubmit","event","preventDefault","type","name","autoComplete","value","onChange","target","map","movie","to","id","state","from","title","API_KEY","URI","fetchTrandingMovies","page","url","getRequest","searchText","encodeURIComponent","getMovieById","movieId","getCast","getReviews","axios","data"],"sourceRoot":""}